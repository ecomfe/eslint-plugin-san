(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{465:function(e,t,r){"use strict";r.r(t);var n=r(9),s=Object(n.a)({},(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[r("h1",{attrs:{id:"开发指南"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#开发指南"}},[e._v("#")]),e._v(" 开发指南")]),e._v(" "),r("p",[e._v("欢迎贡献代码。")]),e._v(" "),r("h2",{attrs:{id:"bug-解决"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#bug-解决"}},[e._v("#")]),e._v(" 🐛 Bug 解决")]),e._v(" "),r("p",[e._v("如果你发现了一个 bug，请在 GitHub 上 "),r("a",{attrs:{href:"https://github.com/ecomfe/eslint-plugin-san/issues/new?labels=&template=bug_report.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("创建一个新的issue"),r("OutboundLink")],1),e._v(" 或者直接提交 pr 。")]),e._v(" "),r("p",[e._v("同时请提供尽可能多的详细信息，以帮助我们正确解决您的问题。 如果我们需要对问题进行分类并了解更多细节，那么就浪费了很多时间。 希望您在问题中包含尽可能多的细节，来帮助我们提高效率。")]),e._v(" "),r("h2",{attrs:{id:"提出新规则或更改规则"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#提出新规则或更改规则"}},[e._v("#")]),e._v(" ✨ 提出新规则或更改规则")]),e._v(" "),r("p",[e._v("要添加新规则或更改规则，你可以：")]),e._v(" "),r("ul",[r("li",[e._v("在 GitHub 上创建问题并描述提出的规则")]),e._v(" "),r("li",[e._v("使用 "),r("a",{attrs:{href:"https://github.com/eslint/generator-eslint",target:"_blank",rel:"noopener noreferrer"}},[e._v("official yeoman generator"),r("OutboundLink")],1),e._v(" 生成新规则")]),e._v(" "),r("li",[e._v("运行"),r("code",[e._v("npm start")])]),e._v(" "),r("li",[e._v("编写测试场景并实现逻辑")]),e._v(" "),r("li",[e._v("在 "),r("code",[e._v("docs")]),e._v(" 文件中描述规则")]),e._v(" "),r("li",[e._v("确保所有测试用例都通过")]),e._v(" "),r("li",[e._v("运行 "),r("code",[e._v("npm run lint")]),e._v(" 并修复错误")]),e._v(" "),r("li",[e._v("运行 "),r("code",[e._v("npm run update")]),e._v(" 以更新"),r("code",[e._v("README")]),e._v("和推荐配置")]),e._v(" "),r("li",[e._v("创建 PR 并且在描述中写下 issue 的链接")])]),e._v(" "),r("p",[e._v("欢迎贡献代码。 如果您有任何建议、想法或问题，请随时添加新的 "),r("a",{attrs:{href:"https://github.com/ecomfe/eslint-plugin-san/issues",target:"_blank",rel:"noopener noreferrer"}},[e._v("issue"),r("OutboundLink")],1),e._v("，但首先请确保你的问题没有和之前的问题重复。")]),e._v(" "),r("h2",{attrs:{id:"规则运行原理"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#规则运行原理"}},[e._v("#")]),e._v(" 🔥 规则运行原理")]),e._v(" "),r("p",[e._v("在开始编写新规则之前，请阅读 "),r("a",{attrs:{href:"https://eslint.org/docs/developer-guide/working-with-rules",target:"_blank",rel:"noopener noreferrer"}},[e._v("官方 ESLint 指南"),r("OutboundLink")],1),e._v("。")]),e._v(" "),r("p",[e._v("接下来，为了了解您要检查的代码的 AST 是什么样的，请使用 "),r("a",{attrs:{href:"https://astexplorer.net/",target:"_blank",rel:"noopener noreferrer"}},[e._v("astexplorer.net"),r("OutboundLink")],1),e._v("。")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://astexplorer.net/",target:"_blank",rel:"noopener noreferrer"}},[e._v("astexplorer.net"),r("OutboundLink")],1),e._v(" 是检查 AST 的好工具，还支持 San 模板。")]),e._v(" "),r("p",[e._v("打开"),r("a",{attrs:{href:"https://astexplorer.net/",target:"_blank",rel:"noopener noreferrer"}},[e._v("astexplorer.net"),r("OutboundLink")],1),e._v("后，选择"),r("code",[e._v("San")]),e._v("作为语法，"),r("code",[e._v("san-eslint-parser")]),e._v("作为解析器。")]),e._v(" "),r("p",[e._v("由于 San 中的单个文件组件不是纯 JavaScript，我们不能使用默认解析器，我们不得不引入额外的解析器："),r("code",[e._v("san-eslint-parser")]),e._v("，它生成增强的 AST，其节点代表模板语法的特定部分 ，以及 "),r("code",[e._v("<script>")]),e._v(" 标签内的内容。")]),e._v(" "),r("p",[e._v("要了解有关生成的 AST 中某些节点的更多信息，请访问此处：")]),e._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/estree/estree",target:"_blank",rel:"noopener noreferrer"}},[e._v("ESTree docs"),r("OutboundLink")],1)]),e._v(" "),r("li",[r("a",{attrs:{href:"https://github.com/mysticatea/san-eslint-parser/blob/master/docs/ast.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("san-eslint-parser AST docs"),r("OutboundLink")],1)])]),e._v(" "),r("p",[r("code",[e._v("san-eslint-parser")]),e._v(" 提供了一些有用的解析器服务，以帮助遍历生成的 AST 和模板中的 Token：")]),e._v(" "),r("ul",[r("li",[r("code",[e._v("context.parserServices.defineTemplateBodyVisitor(visitor, scriptVisitor)")])]),e._v(" "),r("li",[r("code",[e._v("context.parserServices.getTemplateBodyTokenStore()")])])]),e._v(" "),r("p",[e._v("查看 "),r("a",{attrs:{href:"https://github.com/ecomfe/eslint-plugin-san/blob/main/lib/rules/mustache-interpolation-spacing.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("示例规则"),r("OutboundLink")],1),e._v(" 以更好地了解这些规则是如何工作的。")]),e._v(" "),r("p",[e._v("请注意，如果你在单测中编写代码示例，你必须相应地在 "),r("code",[e._v("RuleTester")]),e._v(" 中设置解析器（不过，您可以在每个测试用例的基础上进行设置）。 "),r("a",{attrs:{href:"https://github.com/ecomfe/eslint-plugin-san/tree/main/__tests__/lib/rules/attribute-hyphenation.test.js#L19",target:"_blank",rel:"noopener noreferrer"}},[e._v("在这里查看示例"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("如果您遇到困难，其实已经有很多规则可供您学习，如果您找不到正确的解决方案，请联系我们。")]),e._v(" "),r("h2",{attrs:{id:"使用-typescript-进行-jsdoc-类型检查"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#使用-typescript-进行-jsdoc-类型检查"}},[e._v("#")]),e._v(" ✅ 使用 TypeScript 进行 JSDoc 类型检查")]),e._v(" "),r("p",[e._v("我们通过 TypeScript 和 JSDoc 启用了类型检查。")]),e._v(" "),r("p",[e._v("执行类型检查的命令是："),r("code",[e._v("npm run tsc")])]),e._v(" "),r("p",[e._v("这只是为了帮助您编写规则，而不是进行严格的类型检查。 如果您发现难以解决类型检查警告，请使用 "),r("code",[e._v("// @ts-nocheck")]),e._v(" 和 "),r("code",[e._v("// @ts-ignore")]),e._v(" 注释来限制警告。")])])}),[],!1,null,null,null);t.default=s.exports}}]);